---
import '../styles/global.css';
import '@fontsource/inter/400.css';
import '@fontsource/inter/500.css';
import '@fontsource/inter/600.css';
import '@fontsource/inter/700.css';
import '@fontsource/jetbrains-mono/400.css';

const { title, description } = Astro.props;
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content={description} />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <title>{title}</title>
  </head>
  <body>
    <!-- Navigation -->
    <nav class="fixed top-0 left-0 right-0 z-50 border-b backdrop-blur-xl" style="background-color: var(--bg-primary); border-color: var(--border-color);">
      <div class="max-w-7xl mx-auto px-6">
        <div class="flex items-center justify-between h-16">
          <!-- Logo -->
          <a href="#home" class="text-lg font-bold gradient-text">yasin.dev</a>
          
          <!-- Desktop Nav -->
          <div class="hidden md:flex items-center space-x-8">
            <a href="#home" class="nav-link">Dashboard</a>
            <a href="#about" class="nav-link">About</a>
            <a href="#work" class="nav-link">Work</a>
            <a href="#skills" class="nav-link">Skills</a>
            <a href="#contact" class="nav-link">Contact</a>
          </div>

          <!-- Right Side -->
          <div class="flex items-center gap-4">
            <!-- Theme Toggle -->
            <button id="theme-toggle" class="theme-toggle" aria-label="Toggle theme"></button>
            
            <!-- Mobile Menu Button -->
            <button id="menu-btn" class="md:hidden p-2" style="color: var(--text-secondary);">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
              </svg>
            </button>
          </div>
        </div>
      </div>

      <!-- Mobile Menu -->
      <div id="mobile-menu" class="hidden md:hidden border-t" style="background-color: var(--bg-primary); border-color: var(--border-color);">
        <div class="px-6 py-4 space-y-4">
          <a href="#home" class="block nav-link">Dashboard</a>
          <a href="#about" class="block nav-link">About</a>
          <a href="#work" class="block nav-link">Work</a>
          <a href="#skills" class="block nav-link">Skills</a>
          <a href="#contact" class="block nav-link">Contact</a>
        </div>
      </div>
    </nav>

    <main class="pt-16">
      <slot />
    </main>

    <script>
      // Theme Toggle Logic
      const themeToggle = document.getElementById('theme-toggle');
      const html = document.documentElement;
      
      // Check for saved theme preference or default to 'dark'
      const savedTheme = localStorage.getItem('theme') || 'dark';
      html.setAttribute('data-theme', savedTheme);

      themeToggle?.addEventListener('click', () => {
        const currentTheme = html.getAttribute('data-theme');
        const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
        html.setAttribute('data-theme', newTheme);
        localStorage.setItem('theme', newTheme);
      });

      // Mobile Menu Toggle
      const menuBtn = document.getElementById('menu-btn');
      const mobileMenu = document.getElementById('mobile-menu');
      
      menuBtn?.addEventListener('click', () => {
        mobileMenu?.classList.toggle('hidden');
      });

      mobileMenu?.querySelectorAll('a').forEach(link => {
        link.addEventListener('click', () => {
          mobileMenu.classList.add('hidden');
        });
      });
    </script>
  </body>
</html>
